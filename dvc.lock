schema: '2.0'
stages:
  etl_data:
    cmd: python3 src/data/transform_data.py --config_path=params.yaml
    deps:
    - path: src/data/fetch_data.py
      md5: 42a7c1d3ecc347b4a49b43f687b1ca1d
      size: 1426
    - path: src/data/transform_data.py
      md5: 0b9d6fbd7b179a820c9e0a1fed8e1712
      size: 2184
    outs:
    - path: data/raw/winequality-white.csv
      md5: b56c9a78a7fcad87a58fc586bf5298bc
      size: 287388
  split_data:
    cmd: python3 src/data/split_data.py --config_path=params.yaml
    deps:
    - path: data/raw/winequality-white.csv
      md5: b56c9a78a7fcad87a58fc586bf5298bc
      size: 287388
    - path: src/data/split_data.py
      md5: d10063bfd1a132b99c581767b7173248
      size: 1443
    outs:
    - path: data/processed/test_wine_quality.csv
      md5: 119614f63d1326ce879023b3d217bb71
      size: 57625
    - path: data/processed/train_wine_quality.csv
      md5: 9f2fb168bae2a2dde2a9c196f805ea11
      size: 229909
  train_and_evaluate:
    cmd: python3 src/models/train_model.py --config_path=params.yaml
    deps:
    - path: data/processed/test_wine_quality.csv
      md5: 119614f63d1326ce879023b3d217bb71
      size: 57625
    - path: data/processed/train_wine_quality.csv
      md5: 9f2fb168bae2a2dde2a9c196f805ea11
      size: 229909
    - path: src/models/train_model.py
      md5: 766bbbcc97ec34e9adb0b87ebbcc89f9
      size: 2997
    params:
      params.yaml:
        estimators.ElasticNet.params.alpha: 0.88
        estimators.ElasticNet.params.l1_ratio: 0.89
    outs:
    - path: models/model.joblib
      md5: bbb061f56e02ccb3c79b638434a9836c
      size: 722
    - path: reports/params.json
      md5: 0568f34313ba7c5e55128b75dbcbee5c
      size: 43
    - path: reports/scores.json
      md5: b59c77e3c08957514d09f617108d4524
      size: 95
